/**
 * @file Firestore Security Rules for Auto Accessories Shop
 *
 * @core_philosophy This ruleset allows public read access to product and transaction information.
 *                  Write access is completely restricted, reflecting an application that does not
 *                  require user-generated content or modifications in the prototype phase.
 * @data_structure Data is stored in two top-level collections: `/products/{productId}` and `/transactions/{transactionId}`.
 * @key_security_decisions Write operations are denied across the board to focus on secure data retrieval.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read product information. Writes are disallowed.
     * @path /products/{productId}
     * @allow (get, list) - Any user can read product information
     * @deny (create, update, delete) - No one can create, update, or delete product information
     * @principle Allows public read access.
     */
    match /products/{productId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read transaction information. Writes are disallowed.
     * @path /transactions/{transactionId}
     * @allow (get, list) - Any user can read transaction information
     * @deny (create, update, delete) - No one can create, update, or delete transaction information
     * @principle Allows public read access.
     */
    match /transactions/{transactionId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }
  }
}